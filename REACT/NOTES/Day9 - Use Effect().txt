ğŸ”¹ What is useEffect in React?

useEffect is a React Hook used to handle side effects in functional components.

ğŸ‘‰ Side effects are operations that affect something outside the component render.

ğŸ“Œ Syntax:

useEffect(() => {
  // side effect code
}, [dependencies])

ğŸ”¹ Why do we need useEffect?

In React:

useState â†’ handles state

useEffect â†’ handles side effects

Without useEffect, things like API calls, timers, subscriptions may run unnecessarily on every render, causing:
âŒ unwanted function calls
âŒ performance issues
âŒ infinite loops

ğŸ”¹ What are Side Effects?

Side effects are operations that are not directly related to UI rendering:

Examples of Side Effects:

âœ… API calls (fetch, axios)

âœ… Timers (setTimeout, setInterval)

âœ… DOM updates

âœ… Event listeners

âœ… Subscriptions (WebSocket, Firebase)

âœ… LocalStorage access

ğŸ”¹ Prevent Unwanted Function Calls

If you call an API directly inside the component:

fetchData(); // âŒ runs on every render


ğŸ‘‰ React re-renders â†’ function runs again â†’ unwanted calls

âœ” Solution â†’ wrap it inside useEffect

ğŸ”¹ useEffect Dependency Array
1ï¸âƒ£ No dependency array
useEffect(() => {
  console.log("Runs on every render");
});


ğŸŸ¡ Runs after every render

2ï¸âƒ£ Empty dependency array []
useEffect(() => {
  console.log("Runs only once");
}, []);


ğŸŸ¢ Runs only once (component mount)

âœ” Best for:

API calls

Initial setup

Subscriptions

3ï¸âƒ£ With dependencies
useEffect(() => {
  console.log("Runs when count changes");
}, [count]);


ğŸ”µ Runs only when count changes

âœ” Used for:

Watching state/props

Conditional side effects

ğŸ”¹ API Call using useEffect
useEffect(() => {
  fetch("https://api.example.com/data")
    .then(res => res.json())
    .then(data => setData(data));
}, []);


âœ” Prevents multiple API calls
âœ” Runs once on component load

ğŸ”¹ Timer Start & Stop (Cleanup)
useEffect(() => {
  const timer = setInterval(() => {
    console.log("Timer running");
  }, 1000);

  return () => {
    clearInterval(timer);
  };
}, []);


ğŸ“Œ Cleanup function:

Stops timers

Removes subscriptions

Prevents memory leaks

ğŸ”¹ DOM Updates using useEffect
useEffect(() => {
  document.title = `Count: ${count}`;
}, [count]);


âœ” Updates DOM only when count changes

ğŸ”¹ Subscriptions Example
useEffect(() => {
  window.addEventListener("resize", handleResize);

  return () => {
    window.removeEventListener("resize", handleResize);
  };
}, []);


âœ” Adds subscription on mount
âœ” Removes on unmount

ğŸ”¹ useState vs useEffect
Hook	Purpose
useState	Manage state
useEffect	Handle side effects
useState	Triggers re-render
useEffect	Runs after render
ğŸ”¹ Key Interview Points â­

âœ” useEffect runs after render
âœ” Prevents unwanted function calls
âœ” Used for API calls, timers, DOM updates, subscriptions
âœ” Cleanup function prevents memory leaks
âœ” Dependency array controls when effect runs

ğŸ”¹ One-Line Definition (Interview Gold âœ¨)

useEffect is a React Hook used to handle side effects in functional components and control unwanted executions during re-renders.